function [rankd]=ranker(gI)
%function 'ranker' calculates the HOG features after selecting the important features by 'reliefF' method 

rank = [898,1060,741,723,880,903,557,541,865,837,890,561,709,829,543,710,847,833,889,844,721,851,855,718,558,750,806,703,1070,496,702,570,749,395,504,724,613,422,1063,1045,565,556,1040,1052,892,887,1061,694,700,1009,711,1024,1051,671,879,871,939,621,810,550,797,873,1025,569,381,883,547,802,902,686,523,862,123,549,379,141,748,1202,756,869,854,593,468,487,577,729,792,1018,1232,720,441,736,732,303,929,469,938,540,901,1053,1034,394,909,717,221,774,845,532,442,911,986,696,495,1035,657,738,644,853,712,396,1017,1355,990,530,648,562,464,459,945,685,878,168,1026,1036,739,302,584,820,838,824,491,899,477,1067,759,450,559,640,727,828,548,965,544,433,1071,740,730,1022,830,460,649,777,786,981,500,505,776,856,509,401,846,714,586,1013,1072,612,891,928,531,387,527,653,966,765,377,701,239,872,1033,1027,380,60,389,757,731,964,864,706,603,687,321,842,431,59,630,1117,560,534,897,693,918,937,658,524,863,766,666,280,1059,910,533,912,982,695,1069,784,538,415,747,388,602,348,955,451,699,595,568,483,617,1205,140,936,385,1091,542,150,585,675,815,578,622,667,413,689,904,1078,1383,831,896,1125,773,867,428,716,455,386,682,252,1248,665,311,539,601,222,1054,973,775,42,604,1206,1079,900,1044,950,194,737,881,742,868,576,564,397,574,785,575,594,525,801,886,975,421,972,566,1203,1221,1231,758,513,793,715,1118,772,921,989,1193,537,1241,1311,948,1011,1328,526,343,662,216,719,836,567,312,722,248,288,611,423,316,676,692,1337,1198,860,726,551,405,374,1126,1402,330,1240,988,1329,597,877,850,15,437,1170,592,529,1016,683,1048,770,370,390,919,1153,876,1081,497,1015,590,606,596,930,1382,956,684,473,432,635,33,954,498,1157,679,1080,503,1197,506,783,668,378,414,915,1083,1317,705,1300,735,946,275,920,874,1049,1092,605,382,1234,579,707,1082,1043,1089,608,620,552,240,294,1127,1401,1373,1021,1196,242,866,320,279,835,848,823,215,1233,947,821,307,1428,114,1225,688,1195,641,478,1031,991,1247,1068,678,195,638,1012,1144,244,404,573,977,791,1243,406,1364,952,458,363,927,284,832,514,639,482,841,324,416,1215,424,1098,968,122,1429,651,1004,768,132,1310,1062,610,995,951,819,1121,691,1166,1162,882,1131,520,1356,674,631,1290,362,208,257,1169,744,708,762,251,1058,885,985,790,664,1161,522,1128,753,243,963,440,795,840,1010,410,1326,849,704,1230,1030,572,1008,376,508,1393,916,734,319,811,1134,767,1189,507,113,492,1132,446,1042,1130,271,1002,807,528,351,278,974,953,1204,1119,266,230,1155,794,1000,713,827,813,501,1410,499,231,315,293,1145,1154,112,728,583,636,1047,456,1046,959,1338,1391,249,669,1090,743,698,1194,999,86,563,14,1229,199,429,803,650,474,41,1168,402,207,545,789,942,725,1038,816,510,235,344,626,1250,672,978,670,1148,680,465,393,607,1041,1050,934,764,502,809,1039,914,555,1242,917,1211,1176,906,1111,77,1212,486,822,826,643,984,754,1001,352,983,1374,992,957,1171,430,763,812,875,360,1201,661,932,1192,961,587,659,798,87,771,884,673,834,1214,1384,488,780,375,1164,50,800,345,1066,818,51,609,214,943,1306,1188,32,642,697,980,859,346,470,979,447,1200,1175,663,546,796,398,1220,258,1023,1252,1029,1149,329,805,993,213,78,554,799,960,1032,690,931,1158,1291,632,72,755,536,212,438,276,1251,933,752,200,267,420,1346,1077,781,1249,462,285,131,1007,839,1076,347,1139,457,1184,1318,970,905,96,521,1316,745,317,654,600,411,627,969,1299,1238,1413,403,68,1191,997,328,1133,1347,1003,481,619,1006,996,1129,637,1180,1109,1190,1120,1094,843,1403,1014,660,139,1239,677,461,512,852,1218,870,1222,976,234,888,489,633,1301,371,241,895,318,104,808,384,1163,1096,1095,581,1228,1167,407,1156,291,1064,417,614,515,1084,1138,1213,399,1146,1159,535,383,367,645,361,1055,769,111,292,652,511,301,788,1152,1209,1333,922,923,1325,1102,935,392,1165,1400,102,412,987,1392,130,206,270,971,893,1217,1270,1226,1207,681,761,149,998,591,857,1179,485,858,782,817,949,110,962,105,53,1352,944,121,425,490,84,787,64,913,1185,618,69,519,310,1264,166,1141,647,1028,327,1273,1227,1350,52,201,1414,1223,1020,1377,282,623,1342,262,1314,1073,1430,1353,1093,1037,308,1307,1246,1411,36,1366,369,814,804,368,1419,1019,1348,518,1005,1142,582,1216,463,1123,159,372,894,1256,1219,1289,751,1405,364,967,941,1244,472,471,484,861,49,616,1065,1381,1235,419,232,1375,1122,1260,148,1124,1394,479,95,1110,400,1099,1334,825,443,245,1418,281,1074,1436,629,63,1376,1367,656,1365,1112,83,1341,1172,165,1426,1224,247,246,353,1140,1,154,40,1085,167,1319,1312,408,940,1379,427,624,1160,452,13,516,1147,1136,129,1199,1182,85,1427,1257,1344,571,357,1308,1107,365,1327,1101,1187,1297,1298,108,1378,309,338,10,1057,162,1135,760,1304,1409,1335,356,634,138,61,494,103,250,1097,907,1056,1412,1137,358,28,625,100,1386,1305,226,124,202,115,480,426,1385,1390,733,1302,37,196,1177,1272,449,99,1422,233,261,204,1309,205,924,994,339,177,300,350,197,467,80,225,1303,283,1245,163,1399,67,198,1151,209,70,1100,779,265,210,454,160,1271,391,599,34,9,223,238,409,1113,958,366,359,746,588,1368,1313,236,1336,434,1208,1351,1143,1150,1108,1261,1181,1174,1343,1186,1371,1349,553,1408,1236,1116,287,1372,171,493,445,322,476,655,589,1278,145,323,211,1369,1114,908,1253,79,1269,1370,18,1274,1339,1380,274,120,81,646,1173,76,153,354,1103,264,1258,1075,1115,35,91,54,349,82,436,71,1420,272,289,127,373,1237,325,151,1287,161,435,1263,97,297,43,1354,1210,1259,314,1178,778,628,1292,55,1345,203,298,48,444,1262,1437,224,135,1363,439,237,333,90,45,31,190,466,615,277,1086,1279,46,229,58,418,1423,142,273,2,88,27,598,1315,125,1323,1406,1296,1254,176,306,126,16,253,1360,1431,304,73,1106,313,286,580,62,331,118,1283,517,1340,158,1282,147,1293,290,220,1255,1183,1277,1265,1281,217,116,1421,1415,66,355,1435,1275,1440,1432,448,1330,1417,89,1324,1396,155,475,136,326,152,1280,144,1088,1087,925,1288,146,133,107,1320,1438,188,1404,38,1389,47,98,453,259,26,157,1407,263,8,1359,193,106,11,101,23,256,109,1331,342,1276,19,1433,1332,1439,1424,94,1425,5,334,117,74,185,926,1395,228,164,119,295,39,1105,128,260,1362,3,269,268,227,169,187,183,1104,340,189,12,1322,192,17,1387,181,65,1294,341,1416,255,1397,337,1268,1361,296,1388,44,299,1434,134,186,137,1398,25,75,4,182,1267,1321,1286,1357,184,172,305,180,191,254,30,93,332,1266,6,1358,175,156,29,92,1295,178,1284,1285,170,22,336,218,219,143,335,24,179,7,21,20,57,174,56,173 ];

%'rank' is the rank of the HOG features obtained by ReliefF method from the WEKA software

rankd=zeros(1,750);
bI=imbinarize(gI);
 w=size(bI,2);
 h=size(bI,1);
% figure;imshow(dI);
sr=1; er=h; sc=1; ec=w;
for i=1:h
    for j=1:w
        if(bI(i,j)==0)
            er=i;
        end
    end
end

%finding Starting Row
for i=h:-1:1
    for j=1:w
        if(bI(i,j)==0)
            sr=i;
        end
    end
end

%finding Ending Column
for i=1:w
    for j=1:h
        if(bI(j,i)==0)
            ec=i;
        end
    end
end
%finding Starting Column
for i=w:-1:1
    for j=1:h
        if(bI(j,i)==0)
            sc=i;
        end
    end
end

if(sum(sum(bI))==0)
    sr=1;er=h;sc=1;ec=w;
end

mI=zeros(er-sr+1, ec-sc+1);
%bbI=zeros(er-sr+1, ec-sc+1, 'logical');
mI=uint8(mI);
for i=sr:er
    for j=sc:ec
     mI(i-sr+1,j-sc+1)=gI(i,j);   
     %bbI(i-sr+1,j-sc+1)=bI(i,j);
    end
end
%mI is the image section containing the circuit diagram figure with the irrelevant background regions excluded

mI=imresize(mI,[48 75]);
vect=extractHOGFeatures(mI);
for i=1:750
    rankd(i)=vect(rank(i)); %rankd= the required feature vector
end
end

